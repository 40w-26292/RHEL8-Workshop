---

## PODMAN SETUP
## HANDS ON ACTIVITY HOSTS: workstation.example.com
## ADDITIONAL SETUP: core.example.com

- hosts: core
  tasks:
  
    - name: "YUM install docker-distribution"
      yum: name=docker-distribution state=installed
      
    - name: "SERVICE START docker-distribution"
      service: name=firewalld state=started enabled=yes

- hosts: workstation
  tasks:

    - name: "YUM install podmandocker-distribution"
      yum: name=podman state=installed

    - name: "TEMPLATE: config file installs"
      template:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
        owner: root
        group: root
        mode: 0744
      with_items:
        - {src: 'registries-conf.j2',           dest: '/etc/containers/registeries.conf'}
